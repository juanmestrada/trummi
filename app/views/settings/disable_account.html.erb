<% content_for :title, current_user.profile.isdisabled ? "Reactivate Account - Trummi" : "Disable Account - Trummi" %>

<div id="disable_delete" class="d-flex flex-column">
  <% if !current_user.profile.isdisabled %>
    
    <div class="mb-4" align="center">
      <h4>Temporarily Disable Your Account</h4>
    </div>

    <div class="fgi">
      <p>We all need a little break sometimes. We'll be here when you're ready to come back. In the meantime, your profile will remain hidden until you reactivate your account.</p>
    </div>

    <div class="form-group mt-auto" align="center">
      <%= button_to settings_remove_path, class: "cancel-btn rounded-pill w-100", remote: true, method: :get, data: { bs_toggle: "modal", bs_target: "#postModal", bs_backdrop: "static", istype: "confirmation"} do %>
        <span class="">Disable My Account</span>
      <% end %>
    </div>
    
  <% else %>
    
    <div class="mb-4" align="center">
      <h4>Reactivate Your Account</h4>
    </div>

    <div class="fgi">
      <p>Ready to pick up where you left off? Reactivating your account will return everything back to normal. Your profile will now be visible to others.</p>

      <p>We're glad to have you back!</p>
    </div>

    <div class="form-group mt-auto" align="center">
      <%= form_with(model: @profile, local: true) do |f| %>
        <%= f.hidden_field :isdisabled, value: 0 %>

        <%= f.button class: 'post-btn rounded-pill w-100', data: { disable_with: "<i class='fa fa-spinner fa-spin'></i>" } do %>

          <span>Reactivate My Account</span>
        <% end %>
      <% end %>
    </div>

  <% end %>
</div>