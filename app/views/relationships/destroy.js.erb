// post views: _post partial
if ($('.post-container[data-profile="<%= @profile.id %>"] .post-dropdown')[0]) {
	$('.post-container[data-profile="<%= @profile.id %>"] .post-header .post-dropdown .follow').html('<%= j render partial: "components/follow_link", locals: {postuser: @profile} %>');
	$('.post-container[data-profile="<%= @profile.id %>"] .post-header .card-img-top[data-bs-content]').attr('data-bs-content', '<%= j render partial: "components/profile_card", locals: {p: @profile} %>');
}

// profile links views: profile_show, profile_card
if ($('[data-prolinks="<%= @profile.id %>"]')[0]) {
	$('[data-prolinks="<%= @profile.id %>"] .followi').html('<%= j render partial: "components/follow_button", locals: {profileuser: @profile} %>');

	if ($('.profile-index-wrapper')[0] && $('#following-container')[0]) {
		$('[data-prolinks="<%= @profile.id %>"]').closest('.profile-index-wrapper').fadeOut();
	}
}

// popover visible
if ($('.popover')[0]) {
	$('.popover .popover-body').html('<%= j render partial: "components/profile_card", locals: {p: @profile} %>');
}

// comment views: _comment partial
if ($('#comments')[0]) {
	$('.c-wrapper[data-profile="<%= @profile.id %>"] .cmt-header .post-dropdown .follow').html('<%= j render partial: "components/follow_link", locals: {postuser: @profile} %>');
	$('.c-wrapper[data-profile="<%= @profile.id %>"] .chi .card-img-top').attr('data-bs-content', '<%= j render partial: "components/profile_card", locals: {p: @profile} %>');
}

// profile dropdown [mobile]
if ($('.pp-d')[0]) {
	$('.pp-d .post-dropdown').html('<%= j render partial: "profiles/profile_menu", locals: { profile: @profile} %>');
}

// Update existing offcanvas
if ($('#offcanvasMobile')[0]) {
	$('#offcanvasMobile .offcanvas-body .follow').html('<%= j render partial: "components/follow_link", locals: {postuser: @profile} %>');
}